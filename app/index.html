<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <link rel="stylesheet" href="styles/main.css">
        <!-- build:js scripts/vendor/modernizr.js -->
		<script type="text/javascript" src="bower_components/modernizr/modernizr.js"></script>        
        <!-- endbuild -->
		<script type="text/javascript" src="bower_components/jquery/jquery.js"></script>
		<script type="text/javascript" src="bower_components/handlebars/handlebars.js"></script>
    </head>
    <body>
        <div>
        	header
        
			<script id="hb-main" type="text/x-handlebars-template">
				<h1>{{title}}</h1>

				{{#each body}}
					<h2>{{title}}</h2>
					{{#each paragraphs}}
						<p>{{this}}</p>
					{{/each}}
				{{/each}}


			</script>
			<script>
				var dataURL = 'scripts/test2.json';
				var templateSelector = '#hb-main';
 				hbarRender(dataURL, templateSelector);
 				
				function hbarRender(dataURL, templateSelector){
					$.ajax({
						url: dataURL,
						success: function(data){
							var source   = $(templateSelector).html();
							var template = Handlebars.compile(source);
							var html = template(data);
							$(templateSelector).after(html);
						},
						beforeSend: function(jqXHR){
							if (jqXHR.overrideMimeType) {
								jqXHR.overrideMimeType("application/json");
							}
						},
						dataType: "json"
					});
				}
			</script>        

			footer

		</div>


        <!-- build:js scripts/main.js -->
        <script data-main="scripts/main" src="bower_components/requirejs/require.js"></script>
        <!-- endbuild -->


</body>
</html>
